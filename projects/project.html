<!DOCTYPE html>
<html>
    <head>
		<title>SEAN DOCKRY & ASSOCIATES</title>
		<meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="../style.css">
        <link rel="stylesheet" href="../viewer-style.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script>
		</script>
    </head>
    <body style="background-color: rgb(78, 78, 78)">
        <div class="header-content">
			<div class="burger-logo">
			</div>
			<br>
			<br>
			<br>
			<div id="tab-header">
				<div class="tab burger-tab" style="width:5%">
					<h3>&nbsp;</h3>
				</div>
				<div class="tab-image burger-tab">
					<h3>&nbsp;</h3>
				</div>
				<a href="../index.html">
					<div class="tab burger-tab" style="width:14.2857%">
						<h2>PROJECTS</h2>
					</div>
				</a>
				<a href="../services.html">
					<div class="tab burger-tab" style="width:14.2857%">
						<h2>SERVICES</h2>
					</div>
				</a>
				<a href="../aboutus.html">
					<div class="tab burger-tab" style="width:14.2857%">
						<h2>ABOUT US</h2>
					</div>
				</a>
				<a href="../contact.html">
					<div class="tab burger-tab" style="width:14.2857%">
						<h2>CONTACT</h2>
					</div>
				</a>
				<div class="tab burger-tab" style="width:5%">
					<h3>&nbsp;</h3>
				</div>
				<!-- Burger Menu -->
				<div id="menu-icon"></div>
				<div id="burger" class="burger-dropdown">
					<a href="../index.html">
						<div class="burger-item">
							<h2>PROJECTS</h2>
						</div>
					</a>
					<a href="../services.html">
						<div class="burger-item">
							<h2>SERVICES</h2>
						</div>
					</a>
					<a href="../aboutus.html">
						<div class="burger-item">
							<h2>ABOUT US</h2>
						</div>
					</a>
					<a href="../contact.html">
						<div class="burger-item">
							<h2>CONTACT</h2>
						</div>
					</a>
				</div>
			</div>
        </div>
        <div class="main-content">
			<div class="content-center-wide">
				<div class="content-left">
					<div class="content-top">
						<center><h2 id="project-title-top">Project Title</h2></center>
						<hr class="horizontal-line">
					</div>
					<div class="viewer">
						<div class="main-image">
							<div id="project-image" style="display: block;">
								<img class="viewer-image" src="">
								<h2 class="viewer-text"><span>Viewer Text</span></h2>
							</div>
							<video id="project-video" style="display: none;" controls>
								<source src="" type="video/mp4">
								Your browser does not support HTML5 video.
							</video>
							<div class="left-gradient">
								<div class="left-arrow">
								</div>
							</div>
							<div class="right-gradient">
								<div class="right-arrow">
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="content-right">
					<div class="content-bottom">
						<center><h2 id="project-title-bottom">Project Title</h2></center>
						<hr class="horizontal-line">
					</div>
					<br>
					<p id="project-title-content"></p>
					<p id="project-location-content"></p>
					<p id="project-details-content"></p>
					<p id="project-other-content"></p>
				</div>
			</div>
        </div>
        <div class="footer-content">
			<div class="footer-left">
				<h3 class="footer-text"> Second Floor, Corbett House, Shoemaker Lane, Edward Square, Galway, Ireland</h3>
			</div>
            <div class="footer-social">
                <a class="" href="https://www.facebook.com/Sean-Dockry-Associates-198935273504277/" target="_blank">
                    <img class="footer-social-image footer-social-facebook" src="../images/social-media-footer/facebook.png">
                </a>
                <a class="" target="_blank">
                    <img class="footer-social-image footer-social-twitter" src="../images/social-media-footer/twitter.png">
                </a>
                <a class="" target="_blank">
                    <img class="footer-social-image footer-social-linkedin" src="../images/social-media-footer/linkedin.png">
                </a>
                <a class="" target="_blank">
                    <img class="footer-social-image footer-social-google" src="../images/social-media-footer/google.png">
                </a>
            </div>
			<div class="footer-right">
				<h3 class="footer-text"><i class="fa fa-phone" style="font-size:24px"></i> Tel: +353 (0) 91 568522<br>
					<i class="fa fa-envelope" style="font-size:24px"></i> Email: mail@sdaarchitects.ie</h3>
			</div>
        </div>
        <div class="social-media-container">
            <a class="social-media-button facebook" href="https://www.facebook.com/Sean-Dockry-Associates-198935273504277/" target="_blank">
                <img class="social-media-image" src="../images/social-media-sidebar/socialmedia-facebook.png">
            </a>
            <br>
            <a class="social-media-button instagram" target="_blank">
                <img class="social-media-image" src="../images/social-media-sidebar/socialmedia-instagram.png">
            </a>
            <br>
            <a class="social-media-button tumbler" target="_blank">
                <img class="social-media-image" src="../images/social-media-sidebar/socialmedia-tumbler.png">
            </a>
            <br>
            <a class="social-media-button linkedin" target="_blank">
                <img class="social-media-image" src="../images/social-media-sidebar/socialmedia-linkedin.png">
            </a>
            <br>
            <a class="social-media-button twitter" target="_blank">
                <img class="social-media-image" src="../images/social-media-sidebar/socialmedia-twitter.png">
            </a>
            <br>
            <a class="social-media-button google" target="_blank">
                <img class="social-media-image" src="../images/social-media-sidebar/socialmedia-google.png">
            </a>
            <br>
            <a class="social-media-button pinterest" target="_blank">
                <img class="social-media-image" src="../images/social-media-sidebar/socialmedia-pinterest.png">
            </a>
            <br>
            <a class="social-media-button youtube" href="https://www.youtube.com/results?search_query=sean+dockry+and+associates" target="_blank">
                <img class="social-media-image" src="../images/social-media-sidebar/socialmedia-youtube.png">
            </a>
        </div>
	</body>
	</html>
	<script>
		var category = localStorage.getItem("category");
		var project = localStorage.getItem("project");

		$(function() {
			$.getJSON('/projects/' + category + '/info.json', function(data) {
				$.each(data.project, function(i, p) {
					if(p.id == project) {
						$("#project-title-top").text(p.title);
						$("#project-title-content").text(p.title);
						$("#project-location-content").text(p.location);
						$("#project-details-content").text(p.details);
						$("#project-other-content").text(p.other);
						$("#project-title-bottom").text(p.title);

						//var isVideo = false;
						$.each(p.videos, function(l, f) {
							createVideo(f.url);
							//isVideo = true;
						});

						$.each(p.images, function(l, f) {
							createImage(f.title, f.url);
						});

						$(".other-image").first().addClass("image-highlight");
						selectOption($(".other-image").first());
					}
     			});
			});
		});

		function createImage(title, url) {
			var image = "<div class='other-image class-image'>" +
						"<div class='option-highlight'>" +
						"</div>" +
						"<img class='viewer-image' src='" + category + url + "'>" +
						"<h2 class='viewer-text'><span>" + title + "</span></h2>" +
						"</div>";
			$(image).appendTo(".viewer");
		}

		function createVideo(url) {
			$("#project-video").children("source").attr("src", url);
			$("#project-image").css("display", "none");
			$("#project-video").css("display", "block");
			$("#project-video").attr("src", category + url);
			var video = "<div class='other-image class-video' url='" + category + url + "'>" +
						"<div class='option-highlight'>" +
						"</div>" +
						"<img class='viewer-video' src='../images/play-button.png'>" +
						"</div>";
			$(video).appendTo(".viewer");
		}


		
		$('.footer-content').appendTo('.main-content');

		var video = document.getElementById("project-video"); 

		$(document).on('click', '.class-image', function(){
			selectOption(this);
		});
		$(document).on('click', '.class-video', function(){
			selectVideo(this);
		});
		$(document).on('click', 'video', function(){
			if(video.paused) {
				video.play();
			}
			else {
				video.pause();
			}
		});
			
		$(".left-gradient").click(function() {
			var previousImage = $(".image-highlight").parent().prev();
			if (!previousImage.hasClass("other-image")){
				previousImage = $(".other-image").last();
			}

			selectOption(previousImage);
		});

		$(".right-gradient").click(function() {
			var nextImage = $(".image-highlight").parent().next();
			if (!nextImage.hasClass("other-image")){
				nextImage = $(".other-image").first();
			}

			selectOption(nextImage);
		});

		function selectImage(option) {
			var image = $(option).children("img").attr("src");
			$(".main-image img").attr("src", image).stop(true,true).hide().fadeIn()
			$(".main-image h2").replaceWith($(option).children("h2").clone());

			$(".image-highlight").removeClass("image-highlight");
			$(option).children("div").addClass("image-highlight");

			if($(".main-image").children(".viewer-text").children("span").text().length == 0) {
				$(".main-image").children(".viewer-text").css("visibility", "hidden");
			}

			$("#project-image").css("display", "block");
			$("#project-video").css("display", "none");
			video.pause();
		}

		function selectVideo(option) {
			$("#project-video").children("source").attr("src", $(option).attr("url"));

			$(".image-highlight").removeClass("image-highlight");
			$(option).children("div").addClass("image-highlight");

			$("#project-image").css("display", "none");
			$("#project-video").css("display", "block");
			video.play();
		}

		function selectOption(option) {
			if($(option).hasClass("class-image")) {
				selectImage(option);
			}
			else if($(option).hasClass("class-video")) {
				selectVideo(option);
			}
		}



		var header = document.getElementById("tab-header");
		var menuIcon = document.getElementById("menu-icon");
		var sticky = header.offsetTop - 20;

		var burger = document.getElementById("burger");
		var burgerDown = false;

		$(window).scroll(function () {

			if (window.pageYOffset >= sticky) {
				header.classList.add("tabs-fixed");
				menuIcon.classList.add("sticky");
				burger.style.marginTop = "60px";
			} else {
				header.classList.remove("tabs-fixed");
				menuIcon.classList.remove("sticky");
				burger.style.marginTop = "40px";
			}
		});

		$("#menu-icon").click(function() {
			if(burgerDown) {
				burger.classList.remove("burger-dropdown-down");
				burgerDown = false;
			} else {
				burger.classList.add("burger-dropdown-down");
				burgerDown = true;
			}
		});

		$("#menu-icon").hover(overburger, outburger);
		function overburger (event) {
			if(burgerDown) {
				$(this).css("background", "url('../../../images/burger-menu.png')");
				$(this).css("background-size", "cover");
			} else {
				$(this).css("background", "url(../../../images/burger-menu-active.png)");
				$(this).css("background-size", "cover");
			}
		}
		function outburger (event) {
			if(burgerDown) {
				$(this).css("background", "url(../../../images/burger-menu-active.png)");
				$(this).css("background-size", "cover");
			} else {
				$(this).css("background", "url('../../../images/burger-menu.png')");
				$(this).css("background-size", "cover");
			}
		};

		$("#filter-dropdown-icon").click(function () {
			if ($("#filter-dropdown-list").css('display') == 'block') {
				$("#filter-dropdown-list").css("display", "none");
				$(this).css("background", "url('../../../images/filter-menu-active.png')");
				$(this).css("background-size", "cover");
			} else {
				$("#filter-dropdown-list").css("display", "block");
				$(this).css("background", "url('../../../images/filter-menu.png')");
				$(this).css("background-size", "cover");
			}
		});

		$("#filter-dropdown-icon").hover(overfilters, outfilters);
		function overfilters (event) {
			if($("#filter-dropdown-list").css('display') == 'block') {
				$(this).css("background", "url('../../../images/filter-menu.png')");
				$(this).css("background-size", "cover");
			} else {
				$(this).css("background", "url('../../../images/filter-menu-active.png')");
				$(this).css("background-size", "cover");
			}
		}
		function outfilters (event) {
			if($("#filter-dropdown-list").css('display') == 'block') {
				$(this).css("background", "url('../../../images/filter-menu-active.png')");
				$(this).css("background-size", "cover");
			} else {
				$(this).css("background", "url('../../../images/filter-menu.png')");
				$(this).css("background-size", "cover");
			}
		};
		</script>
</html>